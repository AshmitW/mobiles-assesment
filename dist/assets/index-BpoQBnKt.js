(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function y(t,e){return e==="all"?t:t.filter(n=>n.category==e)}function m(t,e){return[...t].sort((n,c)=>e==="low-high"?n.price>c.price:n.price<c.price)}let a=[],u=0;async function h(t,e){await v();const n=a.find(c=>c.product.id===t.id);return n?n.quantity+=e:a.push({product:t,quantity:e}),u+=e,g(),{success:!0,cartCount:u}}function g(){const t=document.querySelector(".cart-badge");t&&(t.textContent=u)}function v(){return new Promise(t=>{setTimeout(t,100)})}let d=[],l="all",s="default";function L(){q(),S(),E(),w()}function q(){const t=document.querySelectorAll(".product-card");for(var e=1,n=0;n<t.length;n++){const c=t[n],r=c.querySelector(".minus"),o=c.querySelector(".plus"),i=c.querySelector(".quantity-input");r.addEventListener("click",function(){e--,i.value=e}),o.addEventListener("click",function(){e++,i.value=e}),i.addEventListener("change",function(){e=i.value})}}function S(){document.querySelectorAll(".add-to-cart-btn").forEach(e=>{e.addEventListener("click",async function(){const n=parseInt(this.dataset.id),r=this.closest(".product-card").querySelector(".quantity-input"),o=parseInt(r.value)||1,i=d.find(p=>p.id===n);i&&(await h(i,o),r.value=1)})})}function E(){const t=document.querySelectorAll(".filter-btn");t.forEach(e=>{e.addEventListener("click",function(){t.forEach(n=>n.classList.remove("active")),this.classList.add("active"),l=this.dataset.category,f()})})}function w(){const t=document.getElementById("sort-dropdown");t&&t.addEventListener("change",function(){s=this.value,f()})}function f(){let t=y(d,l);s!=="default"&&(t=m(t,s))}document.addEventListener("DOMContentLoaded",L);
